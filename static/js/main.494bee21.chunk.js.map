{"version":3,"sources":["../src sync /^/.//.*/.json$","components/Timeline.js","components/Segments.js","scripts.js","sound.mp3","components/Home.js","App.js","reportWebVitals.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","formatTime","time","Math","round","minutes","floor","seconds","css","Timeline","props","showPreview","index","setState","hoverPreview","state","bind","this","videoTime","duration","className","Progress","percent","color","React","Component","Segments","handleKey","key","jumpVideo","current_idx","new_idx","console","log","current_level","scene_starts","mid_indexes","len","length","speech","speak","text","mid_contents","toString","then","catch","error","starts","dynamic","Speech","hasBrowserSupport","init","voices","data","videoID","scene_labels","current_mid_idx","slice","mid_index","idx","onClick","searchWords","autoEscape","textToHighlight","current_state","entered_time","closest_past","max","apply","filter","x","closest_index","findIndex","closest_mid_past","closest_mid_index","clips","title","Home","handleProgress","handleDuration","ref","player","handleDrawerOpen","open","handleDrawerClose","_onPause","sessionStorage","getItem","axios","post","playedSeconds","response","align_segment","string","arr","split","parseInt","deformatTime","playing","inspectFrame","cancel","cur_count","timestamp","Date","getTime","key_count","cur_timestamp","last_timestamp","playbackRate","modalOpen","hover","message","listening","transcript","scene_sounds","last_sound_idx","handleSubmit","onTimeChange","onPause","soundPlaying","timerID","setInterval","tick","start","setItem","i","l","json","require","node","push","sortable","frame","sort","a","b","frame_indexes","frame_timestamps","abs","seekTo","event","value","replace","substr","object","scene","join","object_key","scene_number","includes","setTimeout","Sound","status","PLAYING","STOPPED","handleKeys","onKeyEvent","Header","as","IconButton","aria-label","style","fontSize","Drawer","classes","paper","classNames","anchor","Divider","clip","Button","width","paddingTop","paddingBottom","position","Container","tabIndex","src","marginTop","alt","Row","height","controls","url","onPlay","_onPlay","onReady","_onReady","onProgress","onDuration","onSeek","_onSeek","onChange","border","padding","borderRadius","soundUrl","playStatus","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.494bee21.chunk.js","sourcesContent":["var map = {\n\t\"./1L7EI0vKVuU.json\": 223,\n\t\"./GMVbQ1UsMP8-sentences.json\": 224,\n\t\"./GMVbQ1UsMP8.json\": 225,\n\t\"./TOyDzOc2AaI-sentences.json\": 226,\n\t\"./TOyDzOc2AaI.json\": 227,\n\t\"./dynamic.json\": 136,\n\t\"./frame_timestamps.json\": 228,\n\t\"./frames_data.json\": 137,\n\t\"./mid_level.json\": 138,\n\t\"./qPix_X-9t7E-sentences.json\": 229,\n\t\"./qPix_X-9t7E.json\": 230\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 135;","import React from \"react\";\nimport '../App.css';\nimport {Progress} from 'semantic-ui-react';\nimport 'semantic-ui-css/semantic.min.css'\nimport { Clickable } from 'react-clickable';\nimport { css } from \"@emotion/react\";\nimport ScaleLoader from \"react-spinners/ScaleLoader\";\n\n\nfunction formatTime(time) {\n    time = Math.round(time);\n  \n    var minutes = Math.floor(time / 60),\n        seconds = time - minutes * 60;\n    seconds = seconds < 10 ? '0' + seconds : seconds;\n    return minutes + \":\" + seconds;\n}\n\n  const override = css`\n  position: absolute;\n  font-size: 5px;\n  height: 5px;\n  left: 69vw; \n  margin-top: -3.8vh;\n`;\n\n\n\nexport default class Timeline extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            hoverPreview: false,\n        };\n\n        this.showPreview = this.showPreview.bind(this);\n    }\n\n   \n\n\n    showPreview = (index) => {\n        this.setState({hoverPreview: index});\n    }\n\n\n\n    render() {\n        const { videoTime, duration} = this.props;\n        const { showPreview } = this;\n        return (\n            <div className=\"progressBar-container\">\n                <div className=\"progressBar\">\n                    <Progress percent={Math.floor(videoTime/duration*100)}color='light-grey' />\n                    <div className=\"time-progress\">{formatTime(videoTime)}</div>\n                </div>\n            </div>\n        );\n    }};","import React from \"react\";\nimport '../App.css';\nimport 'semantic-ui-css/semantic.min.css'\nimport { Clickable } from 'react-clickable';\nimport Highlighter from \"react-highlight-words\";\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport Speech from \"speak-tts\";\n\n\n\n\nfunction formatTime(time) {\n    time = Math.round(time);\n    var minutes = Math.floor(time / 60),\n        seconds = time - minutes * 60;\n    seconds = seconds < 10 ? '0' + seconds : seconds;\n    return minutes + \":\" + seconds;\n}\n\n\n\n\nexport default class Segments extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            hoverPreview: false,\n        };\n\n        this.handleKey = this.handleKey.bind(this);\n    }\n\n    componentDidMount() {\n      const speech = new Speech();\n        if(speech.hasBrowserSupport()) { // returns a boolean\n            console.log(\"speech synthesis supported\")\n        }\n        speech.init({\n            'volume': 1,\n             'lang': 'en-GB',\n             'rate': 1.3,\n             'pitch': 1,\n             'voice':'Google UK English Male',\n             'splitSentences': true,\n             'listeners': {\n                 'onvoiceschanged': (voices) => {\n                    //  console.log(\"Event voiceschanged\", voices)\n                 }\n             }}).then((data) => {\n            // The \"data\" object contains the list of available voices and the voice synthesis params\n            console.log(\"Speech is ready, voices are available\", data)\n        }).catch(e => {\n            console.error(\"An error occured while initializing : \", e)\n        })\n        this.setState({speech: speech});\n    }\n    static getDerivedStateFromProps(props, current_state) {\n      if (current_state.entered_time !== props.entered_time) {\n        if(!current_state.speech) return;\n\n        var closest_past = Math.max.apply(Math, props.scene_starts.filter(function(x, index){return x <= props.entered_time}));\n        var closest_index = props.starts.findIndex( x => x == closest_past );\n        var closest_mid_past = Math.max.apply(Math, props.mid_indexes.filter(function(x){return x <= closest_index + 1}));\n        var closest_mid_index = props.mid_indexes.findIndex( x => x == closest_mid_past );\n        closest_mid_index = closest_mid_index < 0? 0: closest_mid_index;\n        current_state.speech.speak({\n            text: props.mid_contents[closest_mid_index]\n        }).then(() => {\n            console.log(\"Success !\")\n        }).catch(e => {\n            console.error(\"An error occurred :\", e)\n        })\n        current_state.entered_time = props.entered_time;\n        current_state.current_level = 1;\n      }\n      return null\n    }\n\n\n    handleKey = (key, jumpVideo, current_idx) => {\n      console.log(key, current_idx, this.props.current_level);\n      var new_idx;\n      if(this.state.current_level === 1){\n        switch (key) {\n          case 'left':\n            new_idx = current_idx <= 0? 0 : current_idx-1;\n            var time = this.props.scene_starts[this.props.mid_indexes[new_idx]];\n            jumpVideo(time, true);\n            break;\n          case 'right':\n            new_idx = current_idx === len? current_idx : current_idx+1;\n            var len = this.props.mid_indexes.length;\n            var time = this.props.scene_starts[this.props.mid_indexes[new_idx]];\n            console.log(time);\n            jumpVideo(time, true);\n            break;\n          case 'down':\n            this.setState({current_level: 0});\n            return;\n        }\n        this.state.speech.speak({\n            text: this.props.mid_contents[new_idx].toString()\n        }).then(() => {\n            console.log(\"Success !\")\n        }).catch(e => {\n            console.error(\"An error occurred :\", e)\n        })\n      }\n      else{\n        switch (key) {\n          case 'left':\n            new_idx = current_idx-1;\n            var time = this.props.starts[new_idx];\n            this.state.speech.speak({\n                text: \"Go back\" + (this.props.scene_starts[current_idx] - time).toString() +\"seconds\"\n            }).then(() => {\n                console.log(\"Success !\")\n            }).catch(e => {\n                console.error(\"An error occurred :\", e)\n            })\n            jumpVideo(time, true);\n            break;\n          case 'right':\n            new_idx = current_idx + 1;\n            var time = this.props.scene_starts[new_idx];\n            // this.state.speech.speak({\n            //     text: \"Skipped\" + (this.props.scene_starts[new_idx] - this.props.scene_starts[current_idx]).toString() + \"seconds\"\n            // }).then(() => {\n            //     console.log(\"Success !\")\n            // }).catch(e => {\n            //     console.error(\"An error occurred :\", e)\n            // })\n            this.state.speech.speak({\n                text: this.props.dynamic[new_idx].toString()\n            }).then(() => {\n                console.log(\"Success !\")\n            }).catch(e => {\n                console.error(\"An error occurred :\", e)\n            })\n            jumpVideo(time, true);\n            break;\n          case 'up':\n            this.setState({current_level: 1});\n            return;\n        }\n      }\n    }\n\n\n\n    render() {\n        const { videoID, videoTime, jumpVideo, scene_starts, scene_labels, mid_indexes, mid_contents, current_idx, current_mid_idx, current_level} = this.props;\n        if (current_level === 1){\n          return(\n            <div className=\"segments-container\">\n                {mid_indexes.slice(current_mid_idx, current_mid_idx + 4).map((mid_index, idx) => {\n                    var keywords = []\n                    return(\n                      <div onClick={() => this.onClick(mid_index-1)}>\n                      <div className=\"mid-text-option-item\">\n                        <div className=\"text-option-text\">\n                          <div className=\"text-option-meta\">\n                            <div className=\"time-option\">\n                            {formatTime(scene_starts[mid_index-1])} \n                            </div>\n                          </div>\n                          <div className=\"text-option\">\n                          <Highlighter\n                              searchWords={keywords}\n                              autoEscape={true}\n                              textToHighlight={mid_contents[current_mid_idx + idx]}\n                          />\n                          </div>\n                        </div>\n                      </div>\n                      </div>  )\n                     })}\n                    \n            </div>)\n        }\n        \n        return (\n            <div className=\"segments-container\">\n                {scene_starts.slice(current_idx, current_idx + 4).map((time, idx) => {\n                    var index = current_idx + idx;\n                    var keywords = []\n                    return(\n                      <div >\n                      <div className=\"text-option-item\">\n                        <div className=\"text-option-text\">\n                          <div className=\"scene-number\">\n                            Scene #{scene_labels[index]} \n                          </div>\n                          <div className=\"scene-time\">\n                           {formatTime(time)} \n                          </div>\n                          <div className=\"text-option\">\n\n                          </div>\n                        </div>\n                      </div>\n                      </div> )\n                     })}\n            </div>\n        );\n    }};","const clips = [ \n    {\n        title: 'Science virtual trip',\n        videoID: 'GMVbQ1UsMP8',\n    },\n    {\n        title: 'The rainbow flame demo',\n        videoID: 'TOyDzOc2AaI',\n    },\n    {\n        title: 'The Nervous System',\n        videoID: 'qPix_X-9t7E'\n    },\n    {\n        title: 'How an egloo keeps you warm',\n        videoID: '1L7EI0vKVuU',\n    },\n\n]\n\n\n\nexport { clips };","export default __webpack_public_path__ + \"static/media/sound.c9572b2e.mp3\";","import React, { Component } from 'react';\nimport ReactPlayer from 'react-player'\nimport { Header, Button, Image, Message } from 'semantic-ui-react';\nimport classNames from 'classnames';\nimport '../App.css';\nimport axios from 'axios';\nimport Timeline from './Timeline';\nimport Segments from './Segments';\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport IconButton from '@material-ui/core/IconButton';\nimport Drawer from '@material-ui/core/Drawer';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport Divider from '@material-ui/core/Divider';\nimport {clips} from '../scripts';\nimport TimeField from 'react-simple-timefield';\nimport KeyboardEventHandler from 'react-keyboard-event-handler';\nimport Speech from \"speak-tts\";\nimport Sound from 'react-sound';\nimport soundUrl from '../sound.mp3';\n\nfunction formatTime(time) {\n    time = Math.round(time);\n    var minutes = Math.floor(time / 60),\n        seconds = time - minutes * 60;\n    \n    seconds = seconds < 10 ? '0' + seconds : seconds;\n    var time = minutes + \":\" + seconds;\n    if(time.length < 5)\n        time = 0 + time;\n    return time;\n}\n\nfunction deformatTime(string) {\n    const arr = string.split(':');\n    var minutes = parseInt(arr[0]) * 60;\n    var seconds = parseInt(arr[1]);\n    return minutes + seconds;\n}\n\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            playing: true,\n            playbackRate: 1.0,\n            modalOpen: true,\n            hover: false,\n            message: false,\n            videoID: 'GMVbQ1UsMP8',\n            listening: false,\n            transcript:'',\n            time: '00:00',\n            scene_starts: [],\n            mid_indexes: [],\n            dynamic: [],\n            scene_sounds: [],\n            current_level: 0,\n            current_idx: 0,\n            current_mid_idx: 0,\n            last_sound_idx: 0,\n            //vio\n            key_count: 0,\n            cur_count: 0,\n            last_timestamp: 0,\n            cur_timestamp: 0,\n        }\n        this.handleDrawerOpen = this.handleDrawerOpen.bind(this);\n        this.handleDrawerClose = this.handleDrawerClose.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.jumpVideo  = this.jumpVideo.bind(this);\n        this.onTimeChange = this.onTimeChange.bind(this);\n        this.onPause = this._onPause.bind(this);\n        this.handleKey = this.handleKey.bind(this);\n        this.align_segment = this.align_segment.bind(this);\n        this.inspectFrame = this.inspectFrame.bind(this);\n        this.soundPlaying = this.soundPlaying.bind(this);\n    }\n    \n\n\n    componentDidMount() {\n        const speech = new Speech();\n        if(speech.hasBrowserSupport()) { // returns a boolean\n            console.log(\"speech synthesis supported\")\n        }\n        speech.init({\n            'volume': 1,\n             'lang': 'en-GB',\n             'rate': 1.2,\n             'pitch': 1,\n             'voice':'Google US English',\n             'splitSentences': true,\n             'listeners': {\n                 'onvoiceschanged': (voices) => {\n                    //  console.log(\"Event voiceschanged\", voices)\n                 }\n             }})\n        this.setState({speech: speech});\n        this.handleSubmit('GMVbQ1UsMP8')\n        \n        //vio\n        this.timerID = setInterval(\n            () => this.tick(),\n            10\n          );        \n\n\n    }\n\n    //vio\n    tick() {\n        var date = new Date();\n        var timestamp=date.getTime();\n        var {current_idx, speech, scene_starts, dynamic} = this.state;\n        if (timestamp - this.state.last_timestamp >= 1000 && this.state.cur_count === 1) {\n          //this.state.speech.speak({text: \"Sentences\"})\n          //keep in the same level\n          var new_idx = current_idx + 1;\n          var time = scene_starts[new_idx];\n          speech.cancel();\n          speech.speak({\n              text: \"Skipped\" + Math.round(time - scene_starts[current_idx]).toString() + \"seconds\"\n          }).then(() => {\n              console.log(\"Success !\")\n          }).catch(e => {\n              console.error(\"An error occurred :\", e)\n          })\n          speech.speak({\n              text: dynamic[new_idx].toString()\n          }).then(() => {\n              console.log(\"Success !\")\n          }).catch(e => {\n              console.error(\"An error occurred :\", e)\n          })\n          this.jumpVideo(time, true);\n\n          this.state.cur_count = 0;\n          this.state.last_timestamp = 0;\n          this.state.cur_timestamp = 0;\n          this.state.key_count = 0;\n          current_idx = new_idx;\n        }\n\n\n\n        //this.setState({\n        //  date: new Date()\n        //});\n      }\n\n\n\n\n    handleProgress = state => {\n      // We only want to update time slider if we are not currently seeking\n      this.setState(state);\n    }\n  \n    handleDuration = (duration) => {\n      this.setState({ duration });\n    }\n\n    ref = player => {\n        this.player = player;\n    }\n\n    handleDrawerOpen = () => {\n        this.setState({ open: true });\n    };\n    handleDrawerClose = () => {\n        this.setState({ open: false });\n    };\n\n    handleSubmit(videoID) {\n        this.setState({start: 0, videoID: videoID, \n          playing: true,\n        })\n        console.log(\"changed the video\", videoID);\n        this.handleDrawerClose();\n        axios.post('http://ec2-52-79-233-144.ap-northeast-2.compute.amazonaws.com:8000/backend/sessions/', {\n            videoID: videoID,\n        }).then((response) => {\n            sessionStorage.setItem('sessionID', response.data.id)\n            sessionStorage.setItem('sessionCreated', true)\n        });\n\n        var json = require('../' +  videoID + '.json');\n        var scene_starts = [];\n        var scene_labels = [];\n        var scene_sounds = [];\n        for (var i = 0, l = json.length; i < l; i++) {\n            var node = json[i];\n            scene_starts.push(node['Start Time (seconds)']);\n            scene_labels.push(node['Scene Number']);\n            if(node['sound']){\n                scene_sounds.push(node['Scene Number'])\n            }\n        }\n\n        var json = require('../mid_level.json');\n        var mid_indexes = [];\n        var mid_contents = [];\n        for (var i = 0, l = json.length; i < l; i++) {\n            var node = json[i];\n            mid_indexes.push(node['index']);\n            mid_contents.push(node['content']);\n        }\n\n        json =  require('../dynamic.json');\n        var dynamic=[];\n        for (var i = 0, l = json.length; i < l; i++) {\n            node = json[i];\n            dynamic.push(node['content']);\n        }\n\n        \n        json = require('../frames_data.json');\n        var sortable = [];\n        for (var frame in json) {\n            sortable.push([frame, json[frame]['time']]);\n        }\n        sortable.sort(function(a, b) {\n            return a[1] - b[1];\n        });\n        // console.log(sortable);\n        var frame_indexes = []\n        var frame_timestamps = []\n        for (var i = 1, l = sortable.length; i < l; i++) {\n            frame_indexes.push(sortable[i][0]);\n            frame_timestamps.push(sortable[i][1]);\n        }\n\n        this.setState({scene_sounds: scene_sounds, scene_starts: scene_starts, scene_labels:  scene_labels, mid_indexes: mid_indexes, mid_contents: mid_contents,frame_indexes: frame_indexes, frame_timestamps:  frame_timestamps,  dynamic: dynamic});\n        if (sessionStorage.getItem('sessionCreated') === null) {\n            axios.post('http://ec2-52-79-233-144.ap-northeast-2.compute.amazonaws.com:8000/backend/sessions/', {\n              videoID: this.state.videoID,\n            }).then((response) => {\n              sessionStorage.setItem('sessionID', response.data.id)\n              sessionStorage.setItem('sessionCreated', true)\n              console.log('new session created' + sessionStorage.getItem('sessionID'))\n            });\n        }\n    }\n\n    jumpVideo(time, abs=false){\n        console.log(\"here\");\n        if(abs){\n            this.player.seekTo(time);\n        }\n        else{\n            this.player.seekTo(this.state.playedSeconds + time);\n        }\n        // this.setState({playing: tru  e});\n       \n    }\n\n    onTimeChange(event, value) {\n        const newTime = value.replace(/-/g, ':');\n        const time = newTime.substr(0, 5);\n    \n        this.setState({time});\n    }\n\n    _onPause = () =>{\n        console.log(sessionStorage.getItem('sessionID'))\n        axios.post('http://ec2-52-79-233-144.ap-northeast-2.compute.amazonaws.com:8000/backend/sessions/'+sessionStorage.getItem('sessionID')+'/add_pause/', {\n            time: formatTime(this.state.playedSeconds)\n        }).then((response) => {\n            \n            console.log('pause edded' + sessionStorage.getItem('sessionID'), response)\n          });\n\n    }\n\n    handleKey = (key) => {\n        var [current_idx, current_mid_idx] = this.align_segment();\n        this.setState({current_idx: current_idx, current_mid_idx: current_mid_idx});\n        const {scene_starts, mid_indexes, dynamic, current_level, speech, mid_contents} = this.state; \n        var time = deformatTime(this.state.time);\n        switch (key) {\n        case 'enter':\n            this.jumpVideo(time, true);\n            this.setState({entered_time: time});\n            break;\n        case 'space':\n            this.setState({playing: !this.state.playing});\n            break;\n        case 'w':\n            this.setState({playing: !this.state.playing});\n            this.inspectFrame();\n        }\n        var new_idx;\n        if(current_level === 1){\n            switch (key) {\n            case 'left':\n                new_idx = current_idx <= 0? 0 : current_idx-1;\n                var time = scene_starts[mid_indexes[new_idx]];\n                this.jumpVideo(time, true);\n                break;\n            case 'right':\n                new_idx = current_idx === len? current_idx : current_idx+1;\n                var len = mid_indexes.length;\n                var time = scene_starts[mid_indexes[new_idx]];\n                this.jumpVideo(time, true);\n                break;\n            case 'down':\n                this.setState({current_level: 0});\n                speech.speak({\n                    text: \"Scene level\"\n                }).then(() => {\n                    console.log(\"Success !\")\n                }).catch(e => {\n                    console.error(\"An error occurred :\", e)\n                })\n                return;\n            }\n            speech.cancel();\n            speech.speak({\n                text: mid_contents[new_idx].toString()\n            }).then(() => {\n                console.log(\"Success !\")\n            }).catch(e => {\n                console.error(\"An error occurred :\", e)\n            })\n        }\n        else{\n            switch (key) {\n            case 'left':\n                new_idx = current_idx-1;\n                var time = scene_starts[new_idx];\n                speech.cancel();\n                speech.speak({\n                    text: \"Go back\" + Math.round(scene_starts[current_idx] - time).toString() +\"seconds\"\n                }).then(() => {\n                    console.log(\"Success !\")\n                }).catch(e => {\n                    console.error(\"An error occurred :\", e)\n                })\n                this.jumpVideo(time, true);\n                break;\n            case 'right':\n                //new_idx = current_idx + 1;\n                //var time = scene_starts[new_idx];\n                //speech.cancel();\n\n                //vio\n                this.state.cur_count = this.state.cur_count + 1;\n                var date = new Date();\n                var timestamp=date.getTime();\n                if (this.state.key_count ===0){\n                    //this.state.speech.speak({text: \"Wait\"})\n                    this.state.cur_count = 1;\n                    this.state.cur_timestamp = timestamp;\n                    this.state.last_timestamp = timestamp;\n                    this.state.key_count = this.state.key_count + 1;\n                  } else {\n                    if (timestamp - this.state.last_timestamp < 1000 && this.state.cur_count === 2) {\n                      //this.state.speech.speak({text: \"Keywords\"})\n                      //double tap to jump to a higher level\n                      this.setState({current_level: 1});\n                      new_idx = current_idx === len? current_idx : current_idx+1;\n                      var len = mid_indexes.length;\n                      var time = scene_starts[mid_indexes[new_idx]];\n                      this.jumpVideo(time, true);\n                      speech.cancel();\n                      speech.speak({\n                          text: mid_contents[new_idx].toString()\n                      }).then(() => {\n                          console.log(\"Success !\")\n                      }).catch(e => {\n                          console.error(\"An error occurred :\", e)\n                      })\n\n                      current_idx = new_idx;\n                      this.state.cur_count = 0;\n                      this.state.last_timestamp = 0;\n                      this.state.cur_timestamp = 0;\n                      this.state.key_count = 0;\n                      this.setState({current_level: 0});\n                    }\n                  }\n                break;\n            case 'up':\n                this.setState({current_level: 1});\n                speech.speak({\n                    text: \"Topic level\"\n                }).then(() => {\n                    console.log(\"Success !\")\n                }).catch(e => {\n                    console.error(\"An error occurred :\", e)\n                })\n                return;\n            }\n        }\n    }\n\n    align_segment() {\n        var {playedSeconds, scene_starts, mid_indexes} = this.state;\n        var time = Math.round(playedSeconds);\n        time = !time ? 0 : time;\n        var closest_past = Math.max.apply(Math, scene_starts.filter(function(x, index){return x <= time}));\n        var closest_index = scene_starts.findIndex( x => x == closest_past );\n        var closest_mid_past = Math.max.apply(Math, mid_indexes.filter(function(x){return x <= closest_index + 1}));\n        var closest_mid_index = mid_indexes.findIndex( x => x == closest_mid_past );\n        closest_index = closest_index < 0? 0 : closest_index;\n        closest_mid_index = closest_mid_index < 0? 0: closest_mid_index;\n        return [closest_index, closest_mid_index];\n      }\n\n    inspectFrame() {\n        const {videoID, current_idx, speech} = this.state;\n        var json = require('../' + videoID + '.json');\n        var scene = json[current_idx];\n        var object, label;\n        if (scene['texts'].length){\n            speech.cancel();\n            console.log(scene['texts'])\n            speech.speak({\n                text: \"Detected text\" + scene['texts'].join(', ')\n            }).then(() => {\n                console.log(\"Success !\")\n            }).catch(e => {\n                console.error(\"An error occurred :\", e)\n            })\n        }\n        if (Object.keys(scene['objects']).length){\n            for(var object_key in scene['objects']){\n                object = scene['objects'][object_key];\n                speech.speak({\n                    text: \"Detected\" + object_key + 'on' + object['pos'] + 'size' + object['size']\n                }).then(() => {\n                    console.log(\"Success !\")\n                }).catch(e => {\n                    console.error(\"An error occurred :\", e)\n                })\n            }\n        }\n        else if(Object.keys(scene['labels']).length){\n            speech.speak({\n                text: \"This frame may contain\" + scene['labels'].join(', ')\n            }).then(() => {\n                console.log(\"Success !\")\n            }).catch(e => {\n                console.error(\"An error occurred :\", e)\n            })\n        }\n        else{\n            speech.speak({\n                text: \"Nothing detected\"\n            }).then(() => {\n                console.log(\"Success !\")\n            }).catch(e => {\n                console.error(\"An error occurred :\", e)\n            })\n        } \n    }\n\n    soundPlaying(current_idx){\n        var scene_number = current_idx + 1;\n        console.log(current_idx, this.state.last_sound_idx)\n        if (this.state.scene_sounds.includes(scene_number)){\n            if( current_idx !== this.state.last_sound_idx){\n                setTimeout(function() { //Start the timer\n                    console.log(\"timer up\")\n                    this.setState({last_sound_idx: current_idx}) //After 1 second, set render to true\n                }.bind(this), 600)\n                return Sound.status.PLAYING;\n            }\n        }\n        return Sound.status.STOPPED\n       \n    }\n\n    \n    render() {\n        const { videoID, playing, playbackRate, listening, transcript} = this.state;\n        const [current_idx, current_mid_idx] = this.align_segment();\n        return (\n            <div className=\"Home\">\n                <KeyboardEventHandler\n                    handleKeys={['space', 'tab', 'left', 'up', 'right', 'down', 'w']}\n                    onKeyEvent={(key, e) => this.handleKey(key)}>\n                </KeyboardEventHandler>\n                <div className=\"header-bar\">\n                    <div className=\"header-title\">\n                        <Header as=\"h2\">\n                            Video A11y\n                        </Header>\n                    </div>   \n                    <IconButton\n                        aria-label=\"Open drawer\"\n                        onClick={this.handleDrawerOpen}>\n                        <MenuIcon style={{ fontSize: '30px'}}/>\n                    </IconButton>\n                    <Drawer\n                        classes={{\n                            paper: classNames(\"drawerPaper\", !this.state.open && \"drawerPaperClose\"),\n                        }}\n                        open={this.state.open} anchor=\"right\" >\n                        <div>\n                            <IconButton onClick={this.handleDrawerClose}>\n                            <ChevronRightIcon />\n                            </IconButton>\n                        </div>\n                        <Divider />\n                        {clips.map((clip, index) => (\n                            <div key={index}>\n                            <Button style={{ fontSize: '15px', width: '100%', paddingTop: '10%', paddingBottom: '12%' }} key={clip}\n                                onClick={() => this.handleSubmit(clip.videoID)}>\n                                <div style={{ position: 'absolute' }}>\n                                {clip.title}\n                                </div>\n                            </Button>\n                            </div>\n                        ))}\n                    </Drawer>\n                </div>\n                <Container className=\"upper-page\">\n                <div className=\"split-left\"  tabIndex=\"1\" >\n                        <img src={\"space-bar-icon-25.png\"} style={{width: '50%', marginTop: '3vh'}} alt={\"Icon of up, down, left, right keys from keyboard\"}/>\n                        <div className=\"text-option-text\">\n                            ⬆/⬇: Change level of unit<br/>\n                            ⬅: Jump to nearest past unit<br/>\n                            ⬅: Jump to nearest future unit\n                        </div>\n                </div>\n                <div className=\"split-center\"  tabIndex=\"1\" >\n                    <Row className=\"main-video\">\n                        <ReactPlayer ref={this.ref} playing={this.state.playing}\n                            playbackRate={playbackRate} id=\"video\"  width=\"100%\" height=\"100%\" controls url = {`https://www.youtube.com/watch?v=${videoID}`} onPause={this._onPause}\n                            onPlay={this._onPlay}\n                            onReady={this._onReady}\n                            onProgress={this.handleProgress}\n                            onDuration={this.handleDuration}\n                            onSeek={this._onSeek}>\n                        </ReactPlayer>\n                    </Row>\n                </div>\n                <div className=\"split-right\" >\n                    <KeyboardEventHandler\n                    handleKeys={['enter']}\n                    onKeyEvent={(key, e) => this.handleKey(key)}>\n                    {/* <div className=\"search-bar-top\">\n                        <div className=\"last-command\">{this.state.last_query}</div>\n                    </div>\n                    <form onSubmit={this.onRequestSearchHandler}>\n                        <input type=\"text\" className=\"search-bar\"/>\n                    </form> */}\n                    <div className=\"text-option-text\"> Jump to: </div>\n                    <TimeField\n                        value={formatTime(this.state.playedSeconds)} onChange={this.onTimeChange}\n                        style={{ border: '2px solid #666', fontSize: 42, width: 130,\n                        padding: '5px 8px', color: '#333', borderRadius: 5}}\n                    />\n                    </KeyboardEventHandler>\n                </div>    \n                </Container>\n                <Container className=\"lower-page\">\n                \n                <Timeline   videoTime={this.state.playedSeconds} duration={this.state.duration} ></Timeline>\n                <Segments videoID={this.state.videoID} scene_starts =  {this.state.scene_starts} scene_labels = {this.state.scene_labels} current_idx = {current_idx} current_mid_idx={current_mid_idx} mid_indexes = {this.state.mid_indexes} mid_contents = {this.state.mid_contents} entered_time = {this.state.entered_time} dynamic = {this.state.dynamic}></Segments>\n                </Container>\n                <Sound\n                    url={soundUrl}\n                    playStatus={this.soundPlaying(current_idx)}\n                />\n            </div>\n        )\n    }\n}\nexport default Home;\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport Home from './components/Home'\n\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    \n    return (\n      <Router>\n          <Route exact path=\"/\" component={Home}></Route>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}